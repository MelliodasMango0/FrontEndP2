<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Interface</title>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.11.3/lib/p5.min.js"></script>
</head>
<body>
    <button id="startButton" style="position: absolute; top: 20px; left: 20px; z-index: 100; padding: 10px;">Enable Motion Sensors</button>
    
    <script>
        let permissionGranted = false;
        
        function setup() {
            describe(
                'Available on mobile devices only: a white circle on a black background that moves and changes size based on the movement of the device.'
            );

            // Make the canvas the full width and height of the
            // device's viewport.
        function deviceMoved() {
            if (!permissionGranted) return;
            
            // When the device is moved, draw a circle with its position and size
            // based on the direction in which the device is moved.

            // Map acceleration along x axis to position along canvas width
            let x = map(accelerationX, -10, 10, 0, width);

            // Map acceleration along y axis to position along canvas height
            let y = map(accelerationY, -10, 10, 0, height);

            // Map acceleration along z axis to size between 10-100
            let diameter = map(accelerationZ, -10, 10, 10, 100);

            // Use alpha value to fade out previously drawn circles
            background(0, 64);
            fill(255); // Make circle white
            noStroke();
            circle(x, y, diameter);
        }
        
        function draw() {
            // Draw a default circle in the center if no movement has happened yet
            if (!permissionGranted) {
                background(0);
                fill(100);
                textAlign(CENTER, CENTER);
                textSize(20);
                text('Click the button to enable motion sensors', width/2, height/2);
                return;
            }
            
            if (frameCount === 1) {
                // Initial circle
                background(0);
                fill(255);
                noStroke();
                circle(width/2, height/2, 50);
            }
                permissionGranted = true;
                document.getElementById('startButton').style.display = 'none';
            }
        }

            function deviceMoved() {
            // When the device is moved, draw a circle with its position and size
            // based on the direction in which the device is moved.

            // Map acceleration along x axis to position along canvas width
            let x = map(accelerationX, -10, 10, 0, width);

            // Map acceleration along y axis to position along canvas height
            let y = map(accelerationY, -10, 10, 0, height);

            // Map acceleration along z axis to size between 10-100
            let diameter = map(accelerationZ, -10, 10, 10, 100);

            // Use alpha value to fade out previously drawn circles
            background(0, 64);
            noStroke();
            circle(x, y, diameter);
            }
        

        // function draw() {
        //     background(windowWidth, windowHeight, 0);
        //
        //     // Call every frame to adjust camera based on mouse/touch
        //     orbitControl();
        //
        //     // Rotate rings in a half circle to create a sphere of cubes
        //     for (let zAngle = 0; zAngle < 180; zAngle += 30) {
        //         // Rotate cubes in a full circle to create a ring of cubes
        //         for (let xAngle = 0; xAngle < 360; xAngle += 30) {
        //             push();
        //
        //             // Rotate from center of sphere
        //             rotateZ(zAngle);
        //             rotateX(xAngle);
        //
        //             // Then translate down 400 units
        //             translate(0, 400, 0);
        //             box();
        //             pop();
        //         }
        //     }
        // }
    </script>
</body>
</html>
